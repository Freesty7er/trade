
&НаСервере
Процедура КомандаЗаполнитьСервер()
	
	ТекстЗапроса = "ВЫБРАТЬ
	               |	УправленческийОстатки.Субконто2 КАК ДокументПоставки,
	               |	-1*УправленческийОстатки.СуммаОстаток КАК Долг
	               |ИЗ
	               |	РегистрБухгалтерии.Управленческий.Остатки(
	               |			&ДатаОстатков,
	               |			Счет = ЗНАЧЕНИЕ(ПланСчетов.Внутренний.ПоставщикиБаза),
	               |			,
	               |			Субконто3 = &Отдел
	               |				И Субконто1 = &Контрагент
				   |			) КАК УправленческийОстатки";
	
	Запрос = Новый Запрос(ТекстЗапроса);
	
	Запрос.УстановитьПараметр("Контрагент", Объект.Контрагент);
	Запрос.УстановитьПараметр("Отдел", Объект.Отдел);
	Запрос.УстановитьПараметр("ДатаОстатков", Объект.Дата);
	
	Выборка = Запрос.Выполнить().Выбрать();
	
	Объект.Состав.Очистить();
	
	Пока Выборка.Следующий() Цикл
		
		НоваяСтрока = Объект.Состав.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрока, Выборка);
		
	КонецЦикла;
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаЗаполнить(Команда)
	КомандаЗаполнитьСервер();
КонецПроцедуры
