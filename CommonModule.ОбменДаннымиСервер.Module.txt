// Находит регламентное задание по GUID
//
// Параметры:
//  УникальныйНомерЗадания - Строка - строка с GUID регламентного задания
// 
// Возвращаемое значение:
//  Неопределено               - если поиск регламентного задания по GUID не дал результатов
//  ТекущееРегламентноеЗадание - РегламентноеЗадание - найденное по GUID регламентное задание
//
Функция НайтиРегламентноеЗаданиеПоПараметру(УникальныйНомерЗадания) Экспорт
	
	// возвращаемое значение функции
	РегламентноеЗадание = Неопределено;
	
	Если ПустаяСтрока(УникальныйНомерЗадания) Тогда
		
		Возврат Неопределено;
		
	КонецЕсли;
	
	УстановитьПривилегированныйРежим(Истина);
	
	Попытка
		
		РегламентноеЗадание = РегламентныеЗадания.НайтиПоУникальномуИдентификатору(Новый УникальныйИдентификатор(УникальныйНомерЗадания));
		
	Исключение
		
		РегламентноеЗадание = Неопределено;
		
	КонецПопытки;
	
	Возврат РегламентноеЗадание;
	
КонецФункции

// Функция - Выгрузить файл на http сервер
// 	болванка, чтобы совсем не забыть
// Возвращаемое значение:
//   - 
//
Функция ВыгрузитьФайлНаHttpСервер()
	
	строкаXML = "";
	
	сервер = "www1.themarat.pp.ua";
	ресурсНаСервере = "/assets/modules/user_bonus/uploading/";
	
	соединение = Новый HTTPСоединение(сервер);
	
	//Создаём файл отправки - содержимое POST-запроса. 
	имяФайлаОтправки = ПолучитьИмяВременногоФайла();
	
	файлОтправки = Новый ЗаписьТекста(имяФайлаОтправки, КодировкаТекста.ANSI, Символы.ПС, );
	файлОтправки.ЗаписатьСтроку(строкаXML); 
	файлОтправки.Закрыть(); 
	
	//Формируем заголовок POST-запроса.
	заголовокHTTP = Новый Соответствие();
	заголовокHTTP.Вставить("Content-Type", "application/x-www-form-urlencoded");
	
	файлОтправки = Новый Файл(ИмяФайлаОтправки); 
	размерФайлаОтправки = XMLСтрока(файлОтправки.Размер()); 
	заголовокHTTP.Вставить("Content-Length", Строка(размерФайлаОтправки)); 
	
	имяФайлаРезультата = ПолучитьИмяВременногоФайла();
	
	ответ = соединение.ОтправитьДляОбработки(имяФайлаОтправки, ресурсНаСервере, имяФайлаРезультата, заголовокHTTP);
	
	файлРезультата = Новый ЧтениеТекста(имяФайлаРезультата);
	рез = ФайлРезультата.ПрочитатьСтроку();
	
	
	
	
	текстОтвета = ответ.ПолучитьТелоКакСтроку();
	
Конецфункции

// Функция - Выгрузить файл на ftp сервер
// 	болванка, чтобы не забыть
// Параметры:
//  путьФайла	 - 	 - 
//  имяФайлаКуда - 	 - 
// 
// Возвращаемое значение:
//   - 
//
Функция ВыгрузитьФайлНаFtpСервер(путьФайла, имяФайлаКуда)
	
	АдресСайта = "ddns.fajno.ua";
	Порт = 21;
	Логин = "ikcc_kolbasa";
	Пароль = "314159260q";
	ИмяКаталога = "";//"/assets/modules/user_bonus/unloading";
	
	FTPСоединение = Новый FTPСоединение(АдресСайта,Порт,Логин,Пароль);
	FTPСоединение.УстановитьТекущийКаталог(ИмяКаталога);
	FTPСоединение.Записать(путьФайла, имяФайлаКуда);
	
	
КонецФункции
