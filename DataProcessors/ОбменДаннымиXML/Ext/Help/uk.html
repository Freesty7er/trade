<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 8.00.6001.19394"></meta></head><body>
<h1>Обробка "Обмін даними у форматі XML"</h1>
<p>Обробка "Універсальний обмін даними у форматі XML" призначена для завантаження й вивантаження даних у файл із будь-якої конфігурації, реалізованої на платформі 1С:Підприємство версії 8.0.</p>
<p>Обробка має чотири закладки</p>
<h2>Вивантаження даних</h2>
<p>Для здійснення вивантаження даних необхідно вказати ім'я файлу, у який буде здійснюватися вивантаження даних і вибрати файл правил обміну. Правила обміну для будь-яких конфігурацій можуть бути настроєні в спеціалізованій конфігурації "Конвертація даних, редакція 2". </p>
<p>Для вивантаження документів і записів незалежних періодичних регістрів відомостей необхідно вказати період - "Дату початку" і "Дату закінчення". Результуючий файл із вивантаженими даними може бути стиснутий.</p>
<p>На закладці "Правила вивантаження даних" можна вибрати ті типи об'єктів, які повинні вивантажуватися, настроїти відбори для вибірки об'єктів, або вказати вузол обміну даними, для якого потрібно вивантажувати дані.</p>
<p>На закладці "Параметри вивантаження" можна вказати додаткові параметри вивантаження даних.</p>
<p>На закладці "Коментар" можна написати довільний текст- коментар, що включається у файл обміну.</p>
<p> </p>
<h2>Завантаження даних</h2>
<p> </p>
<p>Для здійснення завантаження даних необхідно вказати ім'я файлу, з якого буде здійснюватися завантаження даних. </p>
<p>Є можливість настроїти завантаження даних у транзакції. Для цього необхідно встановити прапорець "Використовувати транзакції" і вказати кількість елементів в одній транзакції при завантаженні.</p>
<p> </p>
<h2>Додаткові настройки</h2>
<p> </p>
<p>Закладка служить для тонкої настройки вивантаження й завантаження даних.</p>
<p>"Режим налагодження" - прапорець визначає режим вивантаження й завантаження даних</p>
<p>"Кількість оброблених об'єктів для відновлення статусу" - параметр служить для визначення кількості оброблених елементів перед зміною рядка стан завантаження/вивантаження</p>
<p>"Настройки вивантаження даних" - дозволяють визначити кількість елементів оброблюваних в одній транзакції при вивантаженні даних, вивантажувати й обробляти тільки ті об'єкти на які є права доступу, настроїти тип зміни реєстрації для вивантажених об'єктів  через плани обміну</p>
<p>"Протокол обміну" - дозволяє настроїти висновок інформаційних повідомлень у вікно повідомлень, ведення й запис в окремий файл протоколу обміну.</p>
<p> </p>
<h2>Видалення даних</h2>
<p> </p>
<p>Закладка потрібна тільки для розроблювачів правил обміну. Дозволяє видаляти з інформаційної бази довільні об'єкти.</p>
<h2> </h2>
<h2>Налагодження вивантаження й завантаження даних<br> </h2>
<p>Обробка дозволяє виконувати настройку оброблювачів подій і генерувати модуль налагодження з файлу-правил або файлу-даних.</p>
<p>Увага! Для виконання налагодження оброблювачів необхідна наявність у конфігурації обробки "УниверсальныйОбменДаннымиXML" версії не нижче 2.0.25.</p>
<p>Включення режиму налагодження оброблювачів вивантаження проводиться на закладці "Вивантаження даних" установкою прапорця "Режим налагодження оброблювачів вивантаження". Відповідно, на закладці "Завантаження даних" включення режиму налагодження завантаження проводиться установкою прапорця "Режим налагодження оброблювачів завантаження". </p>
<p>Після установки режиму налагодження оброблювачів стане доступним кнопка настройки налагодження. По натисканню на цю кнопку відкриється вікно настройки.</p>
<p>Настройка налагодження оброблювачів виконується в чотири кроки:</p>
<h3>Крок 1: Вибір режиму налагодження алгоритмів</h3>
<p><br>На першому кроці необхідно визначитися з режимом налагодження алгоритмів:</p>
<ul><li>
<div><font size="1">Без <font size="1">налагодження</font> алгоритмів</font></div>
</li><li>
<div><font size="1">Викликати алгоритми як процедури</font></div>
</li><li>
<div><font size="1">Підставляти код алгоритмів на місці виклику</font><font size="1"><br></font></div></li></ul><p>Перший режим зручно використовувати, коли ми точно знаємо, що помилка в оброблювачі не пов'язана з кодом якого-небудь алгоритму. У цьому режимі код алгоритмів не вивантажується в модуль налагодження. Алгоритми виконуються в контексті оператора "Виконати()" і їх код недоступний для налагодження.</p>
<p>Другий режим необхідно використовувати в тих випадках, коли помилка знаходиться в коді алгоритму. При установці цього режиму алгоритми будуть вивантажені як окремі процедури. У момент виклику алгоритму з якого-небудь оброблювача відбувається звертання до відповідної до процедури обробки. Цей режим зручно використовувати, коли для передачі параметрів в алгоритми використовується глобальна змінна "Параметри". Обмеження використання цього режиму в тому, що при налагодженні в алгоритмі недоступні локальні змінні оброблювача, з якого він викликається. </p>
<p>Третій режим налагодження використовується, як і в другому випадку, при налагодженні коду алгоритмів і в тих випадках, при яких другий режим налагодження не підходить. При установці цього режиму алгоритми будуть вивантажені як інтегрований код в оброблювачах. Тобто замість оператора виклику алгоритму вставляється повний код алгоритму з урахуванням вкладених алгоритмів. У цьому режимі немає обмежень на використання локальних змінних оброблювача, однак є обмеження при налагодженні алгоритмів з рекурсивним викликом. </p>
<h3>Крок 2: Формування модуля налагодження</h3>
<p><br>На другому кроці необхідно зробити вивантаження оброблювачів натисканням на кнопку "Сформувати модуль налагодження вивантаження (завантаження)". Сформовані оброблювачі й алгоритми будуть виведені в окреме вікно для перегляду. Уміст модуля налагодження необхідно скопіювати в буфер обміну натисканням на кнопку "Копіювати в буфер обміну".</p>
<h3>Крок 3: Створення зовнішньої обробки</h3>
<p><br>На цьому кроці необхідно запустити конфигуратор і створити нову зовнішню обробку. У модуль обробки необхідно вставити вміст буфера обміну (модуль налагодження) і зберегти обробку під будь-яким іменем. </p>
<h3>Крок 4: Підключення зовнішньої обробки</h3>
<p><br>На четвертому, завершальному, кроці, треба вказати ім'я файлу зовнішньої обробки в поле введення. При цьому програма виконує перевірку часу створення (оновлення) файлу обробки. Якщо обробка має більш ранню версію, ніж версія файлу модуля налагодження, то буде виведене попередження й форма настройки закрита не буде.</p>
<p>Примітка: Можливість налагодження глобального оброблювача конвертації "Після завантаження правил обміну" не підтримується.</p></body></html>