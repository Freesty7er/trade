
&НаСервере
Процедура ВедомостьПриИзмененииСервер()
	
	Объект.СуммаДокумента = Объект.Ведомость.Состав.Итог("Сумма");
	
КонецПроцедуры


&НаКлиенте
Процедура ВедомостьПриИзменении(Элемент)
	ВедомостьПриИзмененииСервер();
КонецПроцедуры


&НаСервере
Функция ОперацияДокументаПриИзмененииСервер(СтруктураПараметров)
	
	СтруктураПараметров.Вставить("КодОперации", Объект.ОперацияДокумента.Код);
	
	Возврат (СтруктураПараметров);
	
КонецФункции

&НаКлиенте
Процедура ОперацияДокументаПриИзменении(Элемент)
	
	СтруктураПараметров = Новый Структура("ОперацияДокумента", Объект.ОперацияДокумента);
	
	СтруктураПараметров = ОперацияДокументаПриИзмененииСервер(СтруктураПараметров);
	
		
	УправлениеВидимостьюЗакладок(СтруктураПараметров);
	
	
КонецПроцедуры

&НаКлиенте
Процедура УправлениеВидимостьюЗакладок(СтруктураПараметров)
	
	Элементы.ГруппаВедомость.Видимость = Ложь;
	Элементы.ГруппаЗарплата.Видимость = Ложь;
	Элементы.ГруппаЗатраты.Видимость = Ложь;
	Элементы.ГруппаЗатратыСписком.Видимость = Ложь;
	Элементы.ГруппаОплата.Видимость = Ложь;	
	Элементы.ГруппаПодотчет.Видимость = Ложь;	
	Элементы.ГруппаКредит.Видимость = Ложь;	
	Элементы.ГруппаВозвратДенегПокупателю.Видимость = Ложь;
	Элементы.ГруппаКредитКонтрагенту.Видимость = Ложь;
	Элементы.ГруппаВозвратКредитаКонтрагенту.Видимость = Ложь;
	Элементы.ГруппаДенежныеДокументы.Видимость = Ложь;
	
	Если СтруктураПараметров.КодОперации = "000000001" Тогда
		Элементы.ГруппаОплата.Видимость = Истина;	
		
	ИначеЕсли СтруктураПараметров.КодОперации = "000000002" Тогда
		Элементы.ГруппаЗатраты.Видимость = Истина;
		
	ИначеЕсли СтруктураПараметров.КодОперации = "000000003" Тогда
		Элементы.ГруппаЗарплата.Видимость = Истина;
		
	ИначеЕсли СтруктураПараметров.КодОперации = "000000004" Тогда
		Элементы.ГруппаВедомость.Видимость = Истина;
		
	ИначеЕсли СтруктураПараметров.КодОперации = "000000005" Тогда
		Элементы.ГруппаПодотчет.Видимость = Истина;
		
	ИначеЕсли СтруктураПараметров.КодОперации = "000000009" Тогда
		Элементы.ГруппаКредит.Видимость = Истина;		
		
	ИначеЕсли СтруктураПараметров.КодОперации = "000000011" Тогда
		Элементы.ГруппаЗатратыСписком.Видимость = Истина;		
		
	ИначеЕсли СтруктураПараметров.КодОперации = "000000010" Тогда
		Элементы.ГруппаВозвратДенегПокупателю.Видимость = Истина;
		
	ИначеЕсли СтруктураПараметров.КодОперации = "000000019" Тогда
		Элементы.ГруппаКредитКонтрагенту.Видимость = Истина;
		
	ИначеЕсли СтруктураПараметров.КодОперации = "000000020" Тогда
		Элементы.ГруппаВозвратКредитаКонтрагенту.Видимость = Истина;
		
	ИначеЕсли СтруктураПараметров.КодОперации = "000000024" Тогда
		Элементы.ГруппаДенежныеДокументы.Видимость = Истина;
		
	КонецЕсли;

	
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	
	СтруктураПараметров = Новый Структура("ОперацияДокумента", Объект.ОперацияДокумента);
	
	СтруктураПараметров = ОперацияДокументаПриИзмененииСервер(СтруктураПараметров);

	УправлениеВидимостьюЗакладок(СтруктураПараметров);
	
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	УправлениеНебольшойФирмойСервер.ЗаполнитьШапкуДокумента(
		Объект,
		,
		Параметры.ЗначениеКопирования,
		Параметры.Основание,
		СостояниеДокумента,
		КартинкаСостоянияДокумента,
		РазрешеноПроведение,
		Параметры.ЗначенияЗаполнения
	);
	
КонецПроцедуры
