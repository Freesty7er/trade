
Процедура ТекущийПользовательПоказатьПредупреждениеЗавершитьРаботуСистемы(Параметры) Экспорт
	
	Если Параметры = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	ОписаниеОповещенияОЗавершении = Новый ОписаниеОповещения("ПользовательЗавершитьРаботуСистемы", ЭтотОбъект);
	
	ТекстПредупреждения = Параметры.ТекстПредупреждения;
	
	Кнопки = Новый СписокЗначений;
	Кнопки.Добавить(КодВозвратаДиалога.Да,"Перезапустить",,);
	Кнопки.Добавить(КодВозвратаДиалога.Нет,"Завершить работу",,);
	Если НЕ Параметры.ЗавершитьРаботуСистемы Тогда
		Кнопки.Добавить(КодВозвратаДиалога.Отмена,"Продолжить работу",,);
	КонецЕсли;
	
	Таймаут = 30;
	Заголовок = "Завершение работы системы";
	
	ПоказатьВопрос(ОписаниеОповещенияОЗавершении, ТекстПредупреждения,Кнопки,Таймаут,,Заголовок,);
	
КонецПроцедуры

Процедура ПользовательЗавершитьРаботуСистемы(РезультатВопроса, ДополнительныеПараметры) Экспорт
	
	Если РезультатВопроса = КодВозвратаДиалога.Да Тогда
		ЗавершитьРаботуСистемы(Ложь,Истина);
	ИначеЕсли РезультатВопроса = КодВозвратаДиалога.Нет Тогда
		ЗавершитьРаботуСистемы(Ложь,Ложь);
	КонецЕсли;
	
КонецПроцедуры