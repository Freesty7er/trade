&НаСервере
Функция ПолучитьМассивКонтрагентов(МассивДокументов)
	
	МассивКонтрагентов = Новый Массив;
	Для Каждого ДокументМассива Из МассивДокументов Цикл
		МассивКонтрагентов.Добавить(ДокументМассива.Контрагент);
	КонецЦикла;
	
	Возврат МассивКонтрагентов;
	
КонецФункции // ПолучитьКонтрагента()

&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
		МассивКонтрагентов = ПолучитьМассивКонтрагентов(ПараметрКоманды);
	
	ОткрытьФорму("Отчет.ВзаиморасчетыСПоставщиками.Форма",
		Новый Структура("КлючНазначенияИспользования, Отбор, СформироватьПриОткрытии", МассивКонтрагентов, Новый Структура("Контрагент", МассивКонтрагентов), Истина),
		,
		"Контрагент=" + МассивКонтрагентов,
		ПараметрыВыполненияКоманды.Окно
	);
	

КонецПроцедуры
